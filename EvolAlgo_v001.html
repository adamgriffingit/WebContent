<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>EvolAlgo_v001</title>
</head>
<body>
<div id="div1"> </div>
<script>
var data = 
{ 
"avail":
[
  {"fn":["+","-"]},
  {"nu":[0,1,2,3]},
  {"alg":[]},
  {"dead":[]},
  {"live":[]},
  {"win":[]}
] 
};
var el = div1;
//elDiv1.innerHTML = data.avail[1].nu[1];

//Seeder
var Pop = 22; //23;
var AlgoLen = 10;
for(var i=0;i<Pop;i++)
	{
	//How long should the algorithm be?
	//var AlgoLenInst = Math.floor(Math.random()*10);
	//How many fn's should be used? How many nu's?
	//Lets use between 0-2 fn's.
	var FnCnt = RandomRange(1,3);
	//alert(i+":"+FnCnt);
	var AlgoInst = "";
	for(var j=0;j<FnCnt;j++)
		{
		if(0==j) AlgoInst = RandomRange(0,3);
		var k = RandomRange(0,1);
		AlgoInst += " " + data.avail[0].fn[k] + " " + RandomRange(0,3);
	 	};
	el.innerHTML += ("<div>" + AlgoInst + "</div>");
	data.avail[2].alg.push(AlgoInst);
	};
//alert(JSON.stringify(data));

//Fitness Test
//does it pass a try statement?
//does it produce a result of 5?
for(var i=0;i<data.avail[2].alg.length;i++)
	{
	var ret;
	var js = "ret = " + data.avail[2].alg[i] + ";";
	try{eval(js);} catch(err){ret= -999;}
	switch(ret){
	case (5): 
		data.avail[5].win.push(data.avail[2].alg[i]);
		el.innerHTML += ("<div style='color:green;'>" + data.avail[2].alg[i] + "</div>");
		break;
	case (-999): 
		data.avail[3].dead.push(data.avail[2].alg[i]);
		el.innerHTML += ("<div style='color:red;'>" + data.avail[2].alg[i] + "</div>");
		break;
	default: 
		data.avail[4].live.push(data.avail[2].alg[i]);
		el.innerHTML += ("<div>" + data.avail[2].alg[i] + "</div>");
		break;
	};
	};
//try { 0+nine; } catch(err) { ; };

//Helper Functions
function RandomRange(Min,Max)
{
return Math.floor( (Math.random()*(Max-Min+1)) + Min);
};

</script>

</body>
</html>